<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Keyboard tests</title>

	<!-- jQuery (required) & jQuery UI + theme (optional) -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

	<!-- keyboard widget css & script (required) -->
	<link href="keys.css" rel="stylesheet">
	<script src="jquery.keys.js"></script>

</head>

<div id="wrap">
  <textarea id="keyboard"></textarea>
</div>

<script>
$(function() {
  var remapKaren = {
    // use key: value pairs to remap the keys
		"`":"\u1050", "1":"\u1041", "2":"\u1042", "3":"\u1043", "4":"\u1044", "5":"\u1045", "6":"\u1046", "7":"\u1047", "8":"\u1048", "9":"\u1049", "0":"\u1040",
		"q":"\u1006", "w":"\u1010", "e":"\u1014", "r":"\u1019", "t":"\u1021", "y":"\u1015", "u":"\u1000", "i":"\u1004", "o":"\u1018", "p":"\u1005", "[":"\u101F", "]":"\u103C", "\\":"\u101B",
		"a":"\u1060", "s":"\u103B", "d":"\u102D", "f":"\u1072", "g":"\u102B", "h":"\u1037", "j":"\u103C", "k":"\u102F", "l":"\u1030", ";":"\u1038",
		"z":"\u1016", "x":"\u1011", "c":"\u1001", "v":"\u101C", "b":"\u1018", "n":"\u100A", "m":"\u102C",

		"~":"~", "!":"‘", "@":"’", "#":"#", "$":"\u1013\u1038", "%":"%", "^":"^", "&":"\u104D", "*":"*", "(":"(", ")":")", "_":"_", "+":"+",
		"Q":"“", "W":"”", "E":"\u1014", "R":"\u103E\u1030", "T":"\u103E\u1037", "Y":"\u103E", "U":"\u1062", "I":"\u1062\u103A", "O":"\u1063\u103A", "P":"\u102C\u103A", "{":"\u1027", "}":"\u1002", "|":"\u101B"
		"A":"\u1017", "S":"\u103E", "D":"\u102E",
  };

	jQuery.keyboard.layouts['Karen-custom'] = {
		'lang': ['kar'],
		// KarenKNU characters
		'normal': [
			'\u1050 \u1041 \u1042 \u1043 \u1044 \u1045 \u1046 \u1047 \u1048 \u1049 \u1040 - = {bksp}',
			'{tab} \u1006 \u1010 \u1014 \u1019 \u1021 \u1015 \u1000 \u1004 \u101E \u1005 \u101F \u1028 \u104F',
			'\u1031 \u103B \u102D \u103A \u102B \u1037 \u103C \u102F \u1030 \u1038 \u1012 {enter}',
			'{shift} \u1016 \u1011 \u1001 \u101C \u1018 \u100A \u102C\u103A \u101A \u1063\u103A / {shift}',
			'{accept} {space} {cancel}'
		],
		'shift': [
			'\u100E \u100D \u1052 \u100B \u1053 \u1054 \u1055 \u101B \u1002 ( ) _ + {bksp}',
			'{tab} \u1008 \u101D \u1023 \u1064 \u1024 \u104C \u1025 \u104D \u103F \u100F \u1027 \u102A \u1051',
			'\u1017 \u103E \u102E \u1060 \u103D \u1036 \u1032 \u1013 K \u1013 \u1002 \u201C {enter}',
			'{shift} : \u1007 \u100C \u1003 \u1020 \u101A \u100A \u1026 \u104A \u1062\u103A / {shift}',
			'{accept} {space} {cancel}'
		],
		// latin characters
    "alt": [
      "\\ 1 2 3 4 5 6 7 8 9 0 ' ] {bksp}",
      "{tab} q w e r t y u i o p + }",
      "a s d f g h j k l \u0384 \u00A8 # {enter}",
      "{shift} < z x c v b n m , . - {shift}",
      "{accept} {alt} {space} {alt} {cancel}"
    ],
    "alt-shift" : [
      "| ! \" # $ % & / ( ) = ? [ {bksp}",
      "{tab} Q W E R T Y U I O P * {",
      "A S D F G H J K L \u00A8 \u0385 @ {enter}",
      "{shift} > Z X C V B N M ; : _ {shift}",
      "{accept} {alt} {space} {alt} {cancel}"
    ]
	};

	$('#keyboard').keyboard({
		layout: 'Karen-custom',
		usePreview: false,
		beforeInsert: function(e, keyboard, kar, textToAdd) {
      return keyboard.altActive ?
			// don't remap if alt is active
			textToAdd :
			// remap at all other times, but fallback
			// for un-remapped values
			remapKaren[textToAdd] || textToAdd;
		}
	});
});

</script>

</html>
